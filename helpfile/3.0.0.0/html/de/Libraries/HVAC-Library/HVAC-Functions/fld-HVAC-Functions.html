

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HVAC Functions &mdash; HVAC Building and Process Automation V3.0.0.0</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'3.0.0.0',
              LANGUAGE:'de',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../../../genindex.html" />
    <link rel="search" title="Suche" href="../../../search.html" />
    <link href="../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #289192" >
          

          
            <a href="../../../index.html" class="icon icon-home"> HVAC Building and Process Automation
          

          
          </a>

          
            
            
              <div class="version">
                3.0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../fld-HVAC-Library.html">HVAC Library</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">HVAC Building and Process Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>HVAC Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/Libraries/HVAC-Library/HVAC-Functions/fld-HVAC-Functions.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hvac-functions">
<span id="id1"></span><span id="fld-hvac-library-fld-hvac-functions"></span><h1>HVAC Functions<a class="headerlink" href="#hvac-functions" title="Link zu dieser Überschrift">¶</a></h1>
<p>Persistente Variablen werden mit Hilfe des Application Composers - Persistent Managers in Textfiles auf der Steuerung gespeichert.
Die ermöglicht das Einstellungen vom Nutzer ständig und aktuell auf der Steuerung gespeichert sind und somit bei einem Kaltstart wieder zur Verfügung stehen. Die Dateien können außerdem extern gespeichert werden. Wechselt man die Steuerung so können die Einstellungen wieder eingespielt werden. Auch Betriebszustände können z.B. nach Inbetriebnahme gesichert werden und nach belieben wieder eingelesen werden.
Damit diese Dateien gespeichert werden müssen die gespeicherten Variablen mit einem Attribut versehen werden und im Projekt müssen die Dateien im Application Composer angelegt werden.
Dazu im Application Composer zwei Kanäle mithilfe des PersistenceManager anlegen. Die Bennenung der zwei Kanäle muss gleich wie die Bezeichnung der verwendeten Attribute in der Library sein. (Im Beispielprojekt sind die Kanäle fertig angelegt. Ein Beispielvideo auf unserem Youtube Channel erklärt das Persistent Verhalten nochmals im detail.</p>
<p>Es wird in zwei Dateien unterschieden:
- HVAC_Parameter (Für Parameter des Parameterfensters aller FBs)
- HVAC_Counter (für Betriebsstundendaten oder andern Zählerdaten)</p>
<p>Die Attribute vor den Variablen lauten dann:</p>
<p>Für HVAC_Parameter:</p>
<div class="highlight-codesys"><div class="highlight"><pre><span class="cp">{attribute &#39;ac_persist&#39; := &#39;HVAC_Parameter&#39;}</span>
</pre></div>
</div>
<p>Für HVAC_Counter:</p>
<div class="highlight-codesys"><div class="highlight"><pre><span class="cp">{attribute &#39;ac_persist&#39; := &#39;HVAC_Counter&#39;}</span>
</pre></div>
</div>
<p>Warum zwei Dateien?
Die HVAC_Parameter Datei ist von und so konfiguriert, dass wenn Änderungen in den Parametern statt finden, sofort die Datei auf dem System neu geschrieben wird (Speichern bei Änderung). Da die Änderungen nur vorkommen, wenn aktiv der Nutzer Einstellungen ändert, ist dies nicht so oft.</p>
<p>Die HVAC_Counter Datei enthält Betriebsstundenzähler oder Impulszähler. Diese Werte ändern sich ständig zur Laufzeit. Damit die Datei nicht ständig den Speicher beschreibt wird hier auf ein zyklisches speichern gesetzt (z.B. alle 12h, einstellbar).</p>
<p>Sollten die Parameter offline verändert werden muss vor dem online gehen die Parameterliste gelöscht werden und es wird eine neue angelegt. Alle anderen Onlinewerte gehen dann aber auch verloren!</p>
<div class="toctree-wrapper compound">
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, HVAC by Pfaender

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>