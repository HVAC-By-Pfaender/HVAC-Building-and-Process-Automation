.. first line of object.rst template
.. first line of pou-object.rst template
.. first line of fb-object.rst template
.. _`.fld-HVAC Library.fld-HVAC Functions.fld-Clock.PublicHoliday`:


.. index::
   single: PublicHoliday

.. _`PublicHoliday`:

PublicHoliday (FB)
------------------

FUNCTION_BLOCK PublicHoliday




****************
Kurzbeschreibung
****************

     | Anzeige der Zustände von Feiertagen
     |
     | Typisch Anwendung: Erkennung von Feiertagen in einem Uhrsystem

***********
Darstellung
***********
  .. image:: /../DocuBilder/PublicHoliday_FB.png

**************
Schnittstellen
**************
Eingänge
========
 .. list-table::
    :name: Eingänge
    :widths: 300 150 150 300 900
    :header-rows: 1

    * - Name
      - Datentyp
      - Wertebereich
      - Initialwert
      - Funktion
    * - *xEn*
      - BOOL
      -
      -
      - Freigabe / Sperrung der Funktion ( FALSE = Sperrung, TRUE = Freigabe )
    * - *astPublicHoliday*
      - ARRAY[0..29] OF HVACTYPES.stPublicHoliday
      -
      -
      - Übergabe der definierten Feiertage mit Name, Datum und Freigabestatus

Ausgänge
========
 .. list-table::
    :name: Ausgänge
    :widths: 300 150 150 300 900
    :header-rows: 1

    * - Name
      - Datentyp
      - Wertebereich
      - Initialwert
      - Funktion
    * - *xActive*
      - BOOL
      -
      -
      - Anzeige - Status - Feiertage ( FALSE = nicht aktiv, TRUE = aktiv )
    * - *sName*
      - STRING(30)
      -
      -
      - Name des aktiven Feiertags

Sollwerte / Parameter
=====================
 .. list-table::
    :name: Sollwerte / Parameter
    :widths: 300 150 150 300 900
    :header-rows: 1

    * - Name
      - Datentyp
      - Wertebereich
      - Initialwert
      - Funktion
    * - **eCountry**
      - eCountryList
      - eCountryList.UserDefined, eCountryList.DE
      - eCountryList.DE
      - Auswahl der länderspezifischen Feiertage

*********************
Funktionsbeschreibung
*********************
Allgemeines
===========
| Dieser Funktionsbaustein ermittelt, ob ein Feiertag aktiv ist und zeigt zu dem Feiertag den Namen an.
| Der Funktionsbaustein muss über den Eingang *xEn* aktiviert werden (TRUE = Funktion aktiv).
| Die Feiertage können über die Struktur stPublicHoliday definiert werden. Hier wird der Name, das Datum des Feiertags und der Freigabestatus festgelegt.
| Dabei können Feiertage als festes Datum, mit einem Abstand zu Ostern oder Wochentag vor einem festen Datum defniert werden.
| Der Sollwert / Parameter **eCountry** erlaubt die Festlegung des Landes, dessen Feiertage verwendet werden sollen. Aktuell sind nur die Feiertage für Deutschland implementiert.
|

**************
Visualisierung
**************
Passendes Visualisierungselement aus der HVACV Visu Library: **PublicHoliday**

Darstellung
===========
  .. image:: /../DocumentationPictures_Visu/PublicHoliday.PNG


Schnittstellen Visu-Element
===========================

 .. list-table::
    :name: Schnittstellen Visu-Element
    :widths: 300 150 150 300 900
    :header-rows: 1

    * - Name
      - Datentyp
      - Typ
      - Initialwert
      - Funktion
    * - **FB_PublicHoliday**
      - PublicHoliday
      - VAR_IN_OUT
      -
      - Hier FB PublicHoliday eintragen Bsp. PRG.PublicHoliday
    * - **BMS_Active**
      - BOOL
      - VAR_INPUT
      -
      - BMS (Building Management System) GLT (Gebäudeleittechnik). Wenn BMS_Active = TRUE wird die Eingabe/Editierung der Uhren deaktiviert da diese dann nur über das BMS eingestellt werden können. Uhrzeiten können dann nur angeschaut werden.
    * - **DisableInput**
      - BOOL
      - VAR_INPUT
      -
      - DisableInpput = TRUE Uhrzeiten der Wochenuhren können nur angesehen werden und nicht editiert werden.///      - BMS (Building Management System) GLT (Gebäudeleittechnik). Wenn BMS_Active = TRUE wird die Eingabe/Editierung der Uhren deaktiviert da diese dann nur über das BMS eingestellt werden können. Uhrzeiten können dann nur angeschaut werden.
|
| Hinweis: VAR_IN_OUT Schnittstellen müssen belegt werden, VAR_INPUT sind optional.
|
|

*******
Codesys
*******





InOut:
    +--------+------------------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
    | Scope  | Name             | Type                      | Initial                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Comment                                                     |
    +========+==================+===========================+=============================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+=============================================================+
    | Input  | xEn              | BOOL                      | TRUE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Freigabe / Sperrung der Funktion ( FALSE = Sperrung, TRUE = |
    |        |                  |                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Freigabe )                                                  |
    +        +------------------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
    |        | astPublicHoliday | ARRAY [0..29] OF          | [STRUCT(sName := '00', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '01', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '02', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '03', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '04', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '05', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '06', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '07', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '08', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '09', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '10', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '11', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '12', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '13', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '14', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '15', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '16', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '17', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '18', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '19', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '20', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '21', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '22', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '23', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := '24', datDate := DATE#1970-1-1, xEnable := FALSE), STRUCT(sName := 'Public Holiday 1', datDate := DATE#2019-1-1, xEnable := TRUE), STRUCT(sName := 'Public Holiday 2', datDate := DATE#2019-1-1, xEnable := TRUE), STRUCT(sName := 'Public Holiday 3', datDate := DATE#2019-1-1, xEnable := TRUE), STRUCT(sName := 'Public Holiday 4', datDate := DATE#2019-1-1, xEnable := TRUE), STRUCT(sName := 'Public Holiday 5', datDate := DATE#2019-1-1, xEnable := TRUE)] | Übergabe der definierten Feiertage mit Name, Datum und      |
    |        |                  | HVACTYPES.stPublicHoliday |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Freigabestatus                                              |
    +        +------------------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
    |        | eCountry         | |ioeCountryList|          | eCountryList.DE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Auswahl der länderspezifischen feiertage                    |
    +--------+------------------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
    | Output | xActive          | BOOL                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Anzeige - Status - Feiertage ( FALSE = nicht aktiv, TRUE =  |
    |        |                  |                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | aktiv )                                                     |
    +        +------------------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+
    |        | sName            | STRING(30)                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Name des aktiven Feiertags                                  |
    +--------+------------------+---------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------+

.. |ioeCountryList| replace:: :ref:`eCountryList<eCountryList>`



.. last line of fb-object.rst template
.. last line of pou-object.rst template
.. last line of object.rst template



