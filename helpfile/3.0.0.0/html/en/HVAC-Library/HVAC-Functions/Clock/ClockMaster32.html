

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ClockMaster32 (FB) &mdash; HVAC Building and Process Automation V3.0.0.0</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../',
              VERSION:'3.0.0.0',
              LANGUAGE:'en',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: ''
          };
      </script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="ClockMaster32.Deregister (METH)" href="pou-ClockMaster32/Deregister.html" />
    <link rel="prev" title="Clock7d2Ch (FB)" href="Clock7d2Ch.html" />
    <link href="../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #289192" >
          

          
            <a href="../../../index.html" class="icon icon-home"> HVAC Building and Process Automation
          

          
          </a>

          
            
            
              <div class="version">
                3.0.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../fld-HVAC-Library.html">HVAC Library</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../fld-HVAC-Functions.html">HVAC Functions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../Alarming/fld-Alarming.html">Alarming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../AutomationPortalConnector.html">AutomationPortalConnector (FB)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Binary/fld-Binary.html">Binary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Button/fld-Button.html">Button</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="fld-Clock.html">Clock</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="Clock7d1Ch.html">Clock7d1Ch (FB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Clock7d2Ch.html">Clock7d2Ch (FB)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">ClockMaster32 (FB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="ClockSlave32.html">ClockSlave32 (FB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Holiday.html">Holiday (FB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="PublicHoliday.html">PublicHoliday (FB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="SwitchTimeS.html">SwitchTimeS (FB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="TimeRead.html">TimeRead (FB)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Components/fld-Components.html">Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Control/fld-Control.html">Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Counter/fld-Counter.html">Counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Damping/fld-Damping.html">Damping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Energy/fld-Energy.html">Energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../General/fld-General.html">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Monitoring/fld-Monitoring.html">Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Numeric/fld-Numeric.html">Numeric</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Setpoint/fld-Setpoint.html">Setpoint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../System-Info/fld-System-Info.html">System Info</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Time/fld-Time.html">Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="../checkLicense.html">checkLicense (FB)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Functions/fld-Functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../Enums/fld-Enums.html">Enums</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../GlobalConstants/fld-GlobalConstants.html">GlobalConstants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../GlobalVariables/fld-GlobalVariables.html">GlobalVariables</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">HVAC Building and Process Automation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../fld-HVAC-Library.html">HVAC Library</a> &raquo;</li>
        
          <li><a href="../fld-HVAC-Functions.html">HVAC Functions</a> &raquo;</li>
        
          <li><a href="fld-Clock.html">Clock</a> &raquo;</li>
        
      <li>ClockMaster32 (FB)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/HVAC-Library/HVAC-Functions/Clock/ClockMaster32.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="fld-hvac-library-fld-hvac-functions-fld-clock-clockmaster32"></span><div class="section" id="clockmaster32-fb">
<span id="clockmaster32"></span><span id="index-0"></span><h1>ClockMaster32 (FB)<a class="headerlink" href="#clockmaster32-fb" title="Permalink to this headline">¶</a></h1>
<p>FUNCTION_BLOCK ClockMaster32 EXTENDS LAT.Element IMPLEMENTS IUhrProtocol, <a class="reference internal" href="../../Interfaces/IUhr.html#iuhr"><span class="std std-ref">IUhr</span></a></p>
<div class="section" id="kurzbeschreibung">
<h2>Short Description<a class="headerlink" href="#kurzbeschreibung" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><div class="line-block">
<div class="line">Master function block for a clock system with 32 weekly clocks, 30 public holidays, 10 holiday periods and 5 special switching times</div>
<div class="line">The weekly clocks contain one switch-on and one switch-off time per weekday ( 448 switching points ).</div>
<div class="line">In addition, 30 public holidays ( country-specific ), 10 vacation periods ( start and end date ) and 5 special switching times ( on and off time and date ) can be defined.</div>
</div>
</div></blockquote>
</div>
<div class="section" id="darstellung">
<h2>Portrayal<a class="headerlink" href="#darstellung" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><img alt="../../../_images/ClockMaster32_FB.png" src="../../../_images/ClockMaster32_FB.png" />
</div></blockquote>
</div>
<div class="section" id="funktionsbeschreibung">
<h2>Functional Description<a class="headerlink" href="#funktionsbeschreibung" title="Permalink to this headline">¶</a></h2>
<div class="section" id="allgemeines">
<h3>General<a class="headerlink" href="#allgemeines" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">This function block serves as a master function block for a clock system with 32 weekly clocks, 30 public holidays, 10 vacation periods and 5 special switching times.</div>
<div class="line">It allows the user to define the time and date information ( visualization ) and provides the resulting states ( weekly clock channel 1 - 32, holiday channel, holiday channel and special switching time channel ) to the maximum of 63 slave function blocks ClockSlave32, taking into account the current time and date.</div>
<div class="line">In the slave function blocks, the assignment to the channels ( week clock channel 1 - 32, public holidays channel, vacation channel as well as special switching time channel ) is now made by binary variables ( FALSE = not assigned, TRUE = assigned ).</div>
<div class="line">The connection between the master function block and the slave function blocks is established via the output <em>itfToClockSlave32</em> or the inputs <a href="#id1"><span class="problematic" id="id2">*</span></a>itfFromClockMaster32 <a href="#id3"><span class="problematic" id="id4">*</span></a>.</div>
<div class="line">The inputs <em>xAllOn</em> or <em>xAllOff</em> allow ( input = TRUE ) the central activation / deactivation of all outputs <em>xClockActive</em> of all connected slave function blocks.</div>
<div class="line">The <em>xAllOff</em> input has a higher priority than the <em>xAllOn</em> input.</div>
<div class="line"><br /></div>
<div class="line">The following function blocks are used to define the time and date specifications:</div>
</div>
<p><a class="reference internal" href="Clock7d1Ch.html#clock7d1ch"><span class="std std-ref">Clock7d1Ch</span></a></p>
<p><a class="reference internal" href="PublicHoliday.html#publicholiday"><span class="std std-ref">PublicHoliday</span></a></p>
<p><a class="reference internal" href="Holiday.html#holiday"><span class="std std-ref">Holiday</span></a></p>
<p><a class="reference internal" href="SwitchTimeS.html#switchtimes"><span class="std std-ref">SwitchTimeS</span></a></p>
<p>Example representation in combination with slave clocks:</p>
<blockquote>
<div><img alt="../../../_images/ClockMaster32_System.PNG" src="../../../_images/ClockMaster32_System.PNG" />
</div></blockquote>
</div>
</div>
<div class="section" id="visualisierung">
<h2>Visualization<a class="headerlink" href="#visualisierung" title="Permalink to this headline">¶</a></h2>
<p>Suitable visualization element from the HVACV Visu Library: <strong>ClockAssignmentOverview_Start</strong></p>
<div class="section" id="id3">
<h3>Portrayal<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><blockquote>
<div><img alt="../../../_images/ClockAssignmentOverview_Start.PNG" src="../../../_images/ClockAssignmentOverview_Start.PNG" />
</div></blockquote>
<p>The slave clocks are appended automatically according to the order in which they are called in the program. The maximum number is limited to 64 slave clocks in the visual element. In the ClockMaster32 the maximum number can be adjusted via the library constant.</p>
</div></blockquote>
</div>
<div class="section" id="schnittstellen-visu-element">
<h3>Interfaces Visu-Element<a class="headerlink" href="#schnittstellen-visu-element" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><table border="1" class="docutils" id="id4">
<colgroup>
<col width="17%" />
<col width="8%" />
<col width="8%" />
<col width="17%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head"><p class="first last">Datatype</p>
</th>
<th class="head"><p class="first last">Type</p>
</th>
<th class="head"><p class="first last">Init-Value</p>
</th>
<th class="head"><p class="first last">Functional Description</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>FB_ClockMaster32</strong></td>
<td>ClockMaster32</td>
<td>VAR_IN_OUT</td>
<td>&nbsp;</td>
<td><p class="first last">Enter FB ClockMaster32 here Example: PRG.ClockMaster32</p>
</td>
</tr>
<tr class="row-odd"><td><strong>BMS_Active</strong></td>
<td>BOOL</td>
<td>VAR_INPUT</td>
<td>&nbsp;</td>
<td><p class="first last">BMS (Building Management System) GLT (Building Management System). If BMS_Active = TRUE the input/editing of the clocks is deactivated because they can only be set via the BMS. Times can then only be viewed.</p>
</td>
</tr>
<tr class="row-even"><td><strong>DisableInput</strong></td>
<td>BOOL</td>
<td>VAR_INPUT</td>
<td>&nbsp;</td>
<td><p class="first last">Disable Input = TRUE Times of the weekly clocks can only be viewed and not edited.</p>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">Note: VAR_IN_OUT interfaces must be assigned, VAR_INPUT is optional.</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="codesys">
<h2>Codesys<a class="headerlink" href="#codesys" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>InOut:</dt>
<dd><table border="1" class="first last docutils">
<colgroup>
<col width="6%" />
<col width="13%" />
<col width="16%" />
<col width="25%" />
<col width="41%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Scope</th>
<th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Initial</th>
<th class="head">Comment</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td rowspan="4">Input</td>
<td>xAllOn</td>
<td>BOOL</td>
<td>&nbsp;</td>
<td><p class="first last">Central release of all outputs xClockActive of all connected slave function blocks ( FALSE = Off, TRUE = On )</p>
</td>
</tr>
<tr class="row-odd"><td>xAllOff</td>
<td>BOOL</td>
<td>&nbsp;</td>
<td><p class="first last">Central locking of all outputs xClockActive of all connected slave function blocks ( FALSE = Off, TRUE = On )</p>
</td>
</tr>
<tr class="row-even"><td>eCountry</td>
<td><a class="reference internal" href="../../Enums/eCountryList.html#ecountrylist"><span class="std std-ref">eCountryList</span></a></td>
<td>eCountryList.DE</td>
<td><p class="first last">Selection of country-specific public holidays</p>
</td>
</tr>
<tr class="row-odd"><td>ActiveClocksVisu</td>
<td><a class="reference internal" href="../../Enums/eActiveClocksVisu.html#eactiveclocksvisu"><span class="std std-ref">eActiveClocksVisu</span></a></td>
<td>eActiveClocksVisu.Activate16Clocks</td>
<td><p class="first last">Definition of the number of weekly clocks shown in the visualization</p>
</td>
</tr>
<tr class="row-even"><td rowspan="2">Output</td>
<td>itfToClockSlave32</td>
<td>IUhrProtocol</td>
<td>THIS^</td>
<td><p class="first last">Interface for the slave function blocks</p>
</td>
</tr>
<tr class="row-odd"><td>ctClockSlave32</td>
<td>CAA.COUNT</td>
<td>&nbsp;</td>
<td><p class="first last">Number of connected slave function blocks</p>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pou-ClockMaster32/Deregister.html">ClockMaster32.Deregister (METH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pou-ClockMaster32/MasterDatenGet.html">ClockMaster32.MasterDatenGet (METH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pou-ClockMaster32/MasterDatenSet.html">ClockMaster32.MasterDatenSet (METH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pou-ClockMaster32/MasterPara.html">ClockMaster32.MasterPara (PROP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pou-ClockMaster32/RegSlvDat.html">ClockMaster32.RegSlvDat (METH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pou-ClockMaster32/Register.html">ClockMaster32.Register (METH)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pou-ClockMaster32/SlvPara.html">ClockMaster32.SlvPara (PROP)</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pou-ClockMaster32/Deregister.html" class="btn btn-neutral float-right" title="ClockMaster32.Deregister (METH)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Clock7d2Ch.html" class="btn btn-neutral float-left" title="Clock7d2Ch (FB)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, HVAC by Pfaender

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>